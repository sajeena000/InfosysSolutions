import{_ as E}from"./DlAUqK2U.js";import{c as n,o,a as t,J as P,j as D,g as W,r as k,b as f,w as O,F as M,z as A,m as v,y as F,q as e,C as B,t as y,B as $,s as H,p as I,n as G,x as R,N as U,D as z,v as se,O as oe,P as ae}from"./JBMyD3_G.js";import{_ as ne}from"./CY2zj9yJ.js";import{_ as re}from"./K8_RLkd8.js";import{u as le}from"./C4rOevIF.js";import{H as ie}from"./0ZrkprSm.js";import{c as C}from"./BqYJsH3P.js";import{U as ce}from"./_sJIDIUc.js";import{F as J}from"./C6opHgX_.js";import{C as X}from"./DPLJS_Fn.js";import{M as de}from"./sGiei8zQ.js";import{B as K}from"./BpQG7Gdt.js";import{L as ue}from"./95xkdQQ2.js";import{C as me}from"./nkUPQgPK.js";import{M as pe}from"./BFbh8sd2.js";import{X as he}from"./Bi7Fbwi5.js";import{B as fe}from"./BHh39SWv.js";import{U as xe}from"./5B4elyCN.js";const be=C("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);const ge=C("chart-no-axes-column-increasing",[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]]);const ve=C("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);const we=C("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const _e=C("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);const ye=C("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);const Q=C("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);const Y=C("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ke={},$e={class:"flex items-center gap-2 text-white"};function Ce(m,a){return o(),n("div",$e,[...a[0]||(a[0]=[t("div",{class:"w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg shadow-indigo-500/20"},[t("span",{class:"font-display font-bold text-lg"},"AB")],-1),t("span",{class:"font-display font-bold text-xl tracking-tight"},"Admin Dashboard",-1)])])}const Me=Object.assign(E(ke,[["render",Ce]]),{__name:"UiLogo"}),Ae={class:"h-full flex flex-col bg-slate-900/50 backdrop-blur-xl border-r border-white/5"},Se={class:"h-16 flex items-center px-6 border-b border-white/5"},Ve={class:"flex-1 px-4 py-6 space-y-1 overflow-y-auto"},je={key:0,class:"absolute left-0 top-0 bottom-0 w-1 bg-indigo-500 rounded-r-full"},Le={class:"font-medium text-sm"},Fe={key:0,class:"absolute left-0 top-0 bottom-0 w-1 bg-indigo-500 rounded-r-full"},Ne={class:"font-medium text-sm"},Oe={key:1,class:"ml-auto px-2 py-0.5 bg-rose-500 text-white text-[10px] font-bold rounded-full"},ze={href:"/",target:"_blank",class:"flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 text-slate-400 hover:text-white hover:bg-white/5 mt-6"},Be={class:"p-4 border-t border-white/5"},Pe={class:"flex items-center gap-3 px-4 py-3 rounded-xl bg-white/5 border border-white/5"},Re=["src"],Te={class:"flex-1 min-w-0"},Ue={class:"text-sm font-medium text-white truncate"},Qe={class:"flex items-center gap-1.5"},qe={__name:"AdminSidebar",setup(m){const a=P(),p=D(),s=W(),{currentRole:r}=le(),i=k(!1),x=()=>{i.value=!0},w=()=>{i.value=!1,s.logout(),p.push("/login")},c=[{name:"Dashboard",path:"/admin",icon:ie},{name:"Analytics",path:"/admin/analytics",icon:ve},{name:"Team",path:"/admin/team",icon:ce},{name:"Settings",path:"/admin/settings",icon:Y}],_=[{name:"Blog Posts",path:"/admin/blogs",icon:J},{name:"Events",path:"/admin/events",icon:X},{name:"Inquiries",path:"/admin/contacts",icon:de},{name:"Projects",path:"/admin/projects",icon:K}];return(d,u)=>{const S=Me,V=ne,L=re;return o(),n("aside",Ae,[t("div",Se,[f(V,{to:"/admin"},{default:O(()=>[f(S)]),_:1})]),t("nav",Ve,[u[4]||(u[4]=t("p",{class:"px-4 text-[10px] uppercase tracking-wider text-slate-500 mb-2"},"Main",-1)),(o(),n(M,null,A(c,h=>f(V,{key:h.path,to:h.path,class:$(["flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative overflow-hidden",e(a).path===h.path?"bg-indigo-500/10 text-indigo-400":"text-slate-400 hover:text-white hover:bg-white/5"]),onClick:u[0]||(u[0]=N=>d.$emit("close-mobile"))},{default:O(()=>[e(a).path===h.path?(o(),n("div",je)):v("",!0),(o(),F(B(h.icon),{class:"w-5 h-5 transition-transform group-hover:scale-110"})),t("span",Le,y(h.name),1)]),_:2},1032,["to","class"])),64)),u[5]||(u[5]=t("p",{class:"px-4 text-[10px] uppercase tracking-wider text-slate-500 mt-6 mb-2"},"Content",-1)),(o(),n(M,null,A(_,h=>f(V,{key:h.path,to:h.path,class:$(["flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative overflow-hidden",e(a).path===h.path?"bg-indigo-500/10 text-indigo-400":"text-slate-400 hover:text-white hover:bg-white/5"]),onClick:u[1]||(u[1]=N=>d.$emit("close-mobile"))},{default:O(()=>[e(a).path===h.path?(o(),n("div",Fe)):v("",!0),(o(),F(B(h.icon),{class:"w-5 h-5 transition-transform group-hover:scale-110"})),t("span",Ne,y(h.name),1),h.badge?(o(),n("span",Oe,y(h.badge),1)):v("",!0)]),_:2},1032,["to","class"])),64)),t("a",ze,[f(e(we),{class:"w-5 h-5"}),u[3]||(u[3]=t("span",{class:"font-medium text-sm"},"View Website",-1))])]),t("div",Be,[t("div",Pe,[t("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${e(s).userProfile.name}`,alt:"User",class:"w-8 h-8 rounded-full bg-slate-700"},null,8,Re),t("div",Te,[t("p",Ue,y(e(s).userProfile.name),1),t("div",Qe,[t("span",{class:$(["text-[10px] uppercase tracking-wider px-1.5 py-0.5 rounded font-semibold",{"bg-indigo-500/20 text-indigo-400":e(r)==="admin","bg-amber-500/20 text-amber-400":e(r)==="manager","bg-slate-500/20 text-slate-400":e(r)==="member"}])},y(e(r)),3)])]),t("button",{onClick:x,class:"p-1 text-slate-500 hover:text-rose-400 transition-colors",title:"Sign Out"},[f(e(ue),{class:"w-4 h-4"})])])]),f(L,{modelValue:e(i),"onUpdate:modelValue":u[2]||(u[2]=h=>H(i)?i.value=h:null),title:"Log Out",description:"Are you sure you want to log out of your account?","confirm-text":"Log Out",type:"danger",onConfirm:w},null,8,["modelValue"])])}}},Ee={class:"relative"},De={key:0,class:"ml-2 text-xs font-medium"},We={key:0,class:"absolute top-full left-0 mt-2 w-48 bg-slate-900 border border-white/10 rounded-xl shadow-2xl shadow-black/50 overflow-hidden z-50 py-1"},He=["onClick"],Ie={__name:"AdminSearchFilter",props:{modelValue:{type:String,default:"all"}},emits:["update:modelValue"],setup(m,{emit:a}){const p=a,s=k(!1),r=[{label:"All",value:"all"},{label:"Team",value:"team"},{label:"Projects",value:"projects"},{label:"Clients",value:"clients"},{label:"Blogs",value:"blogs"},{label:"Events",value:"events"},{label:"Contacts",value:"contacts"}],i=c=>{p("update:modelValue",c),s.value=!1},x=()=>{s.value=!1},w={mounted(c,_){c.clickOutsideEvent=d=>{c===d.target||c.contains(d.target)||_.value(d)},document.body.addEventListener("click",c.clickOutsideEvent)},unmounted(c){document.body.removeEventListener("click",c.clickOutsideEvent)}};return(c,_)=>(o(),n("div",Ee,[t("button",{onClick:_[0]||(_[0]=G(d=>s.value=!e(s),["stop"])),class:$(["flex items-center justify-center px-2 text-slate-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors focus:outline-none h-8",{"text-indigo-400":m.modelValue!=="all"}])},[f(e(_e),{class:"w-4 h-4"}),m.modelValue!=="all"?(o(),n("span",De,y(m.modelValue),1)):v("",!0)],2),e(s)?I((o(),n("div",We,[_[1]||(_[1]=t("div",{class:"px-3 py-2 text-xs font-medium text-slate-500 uppercase tracking-wider border-b border-white/5 mb-1"}," Search filter ",-1)),(o(),n(M,null,A(r,d=>t("button",{key:d.value,onClick:u=>i(d.value),class:$(["w-full text-left px-4 py-2 text-sm hover:bg-white/5 transition-colors flex items-center justify-between",m.modelValue===d.value?"text-indigo-400":"text-slate-300"])},[t("span",null,y(d.label),1),m.modelValue===d.value?(o(),F(e(me),{key:0,class:"w-3 h-3"})):v("",!0)],10,He)),64))])),[[w,x]]):v("",!0)]))}};typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const q=()=>{};function Ge(m,a){function p(...s){return new Promise((r,i)=>{Promise.resolve(m(()=>a.apply(this,s),{fn:a,thisArg:this,args:s})).then(r).catch(i)})}return p}const Je=m=>m();function Xe(m,a={}){let p,s,r=q;const i=c=>{clearTimeout(c),r(),r=q};let x;return c=>{const _=U(m),d=U(a.maxWait);return p&&i(p),_<=0||d!==void 0&&d<=0?(s&&(i(s),s=void 0),Promise.resolve(c())):new Promise((u,S)=>{r=a.rejectOnCancel?S:u,x=c,d&&!s&&(s=setTimeout(()=>{p&&i(p),s=void 0,u(x())},d)),p=setTimeout(()=>{s&&i(s),s=void 0,u(c())},_)})}}function Ke(m,a,p={}){const{eventFilter:s=Je,...r}=p;return R(m,Ge(s,a),r)}function Ye(m,a,p={}){const{debounce:s=0,maxWait:r=void 0,...i}=p;return Ke(m,a,{...i,eventFilter:Xe(s,{maxWait:r})})}const Ze={class:"h-16 flex items-center justify-between px-6 bg-slate-900/50 backdrop-blur-md border-b border-white/5 sticky top-0 z-20"},et={class:"hidden md:block relative"},tt={class:"flex items-center gap-2 px-3 py-2 rounded-full bg-slate-950/50 border border-white/10 w-96 focus-within:border-indigo-500/50 focus-within:ring-1 focus-within:ring-indigo-500/50 transition-all"},st=["placeholder"],ot={key:0,class:"absolute top-full left-0 right-0 mt-2 bg-slate-900 border border-white/10 rounded-xl shadow-2xl shadow-black/50 overflow-hidden z-50 max-h-96 overflow-y-auto custom-scrollbar"},at={key:0,class:"p-4 text-center text-slate-500 text-sm"},nt={class:"px-3 py-2 text-xs font-medium text-slate-500 uppercase tracking-wider border-b border-white/5 bg-slate-950/30 sticky top-0 backdrop-blur-sm"},rt=["onMousedown"],lt={class:"w-8 h-8 rounded-lg bg-slate-800 flex items-center justify-center text-indigo-400"},it={class:"text-sm text-white"},ct={class:"text-xs text-slate-500"},dt={key:0,class:"p-4 text-center text-slate-500 text-sm"},ut={class:"flex items-center gap-4 relative"},mt={key:0,class:"absolute top-2 right-2 w-2 h-2 bg-rose-500 rounded-full animate-pulse"},pt={key:0,class:"absolute right-0 top-12 w-80 bg-slate-900 border border-white/10 rounded-2xl shadow-2xl shadow-black/50 overflow-hidden backdrop-blur-xl z-50 transform origin-top-right transition-all"},ht={class:"p-4 border-b border-white/5 flex justify-between items-center"},ft={key:0,class:"text-xs bg-indigo-500/20 text-indigo-300 px-2 py-0.5 rounded-full"},xt={class:"max-h-64 overflow-y-auto custom-scrollbar"},bt={key:0,class:"p-6 text-center text-slate-500 text-sm"},gt={class:"mt-1"},vt={class:"text-sm text-slate-200"},wt={class:"text-xs text-slate-500 mt-1"},_t={__name:"AdminHeader",setup(m){const a=P(),p=D(),s=W(),r=k(!1),i=k(!1),x=k([]),w=k(!1),c=k("all"),_=oe(),d=["/admin/team","/admin/blogs","/admin/events","/admin/contacts","/admin/projects"],u=z(()=>d.includes(a.path));R(()=>a.path,()=>{i.value=!1});const S=async()=>{if(console.log("Performing search for:",s.searchQuery),!s.searchQuery||s.searchQuery.length<2){x.value=[];return}w.value=!0;try{const b=`${_.app.baseURL}api/search`.replace("//","/");console.log("Fetching from:",b);const l=await $fetch(b,{params:{q:s.searchQuery,type:c.value}});console.log("Search results:",l),x.value=l}catch(b){console.error("Search failed",b),x.value=[]}finally{w.value=!1}};Ye([()=>s.searchQuery,c],()=>{S()},{debounce:300,maxWait:1e3});const V=z(()=>x.value.length?x.value.reduce((b,l)=>(b[l.type]||(b[l.type]=[]),b[l.type].push(l),b),{}):{}),L=z(()=>x.value.length>0),h=b=>({User:xe,Briefcase:K,FileText:J,Calendar:X,MessageSquare:ye,Building:fe,BarChart:ge,Settings:Y})[b]||Q,N=()=>{setTimeout(()=>{i.value=!1},200)},Z=b=>{p.push(b),i.value=!1},ee=async()=>{await s.markAllNotificationsAsRead()};return(b,l)=>{const te=Ie;return o(),n("header",Ze,[t("button",{onClick:l[0]||(l[0]=g=>b.$emit("toggle-sidebar")),class:"lg:hidden p-2 -ml-2 text-slate-400 hover:text-white"},[f(e(pe),{class:"w-6 h-6"})]),t("div",et,[t("div",tt,[f(e(Q),{class:"w-4 h-4 text-slate-500 shrink-0"}),l[6]||(l[6]=t("div",{class:"h-4 w-[1px] bg-white/10 mx-1 shrink-0"},null,-1)),f(te,{modelValue:e(c),"onUpdate:modelValue":l[1]||(l[1]=g=>H(c)?c.value=g:null),class:"shrink-0"},null,8,["modelValue"]),I(t("input",{"onUpdate:modelValue":l[2]||(l[2]=g=>e(s).searchQuery=g),type:"text",placeholder:e(u)?"Filter this page...":"Search...",class:"bg-transparent border-none outline-none text-sm text-white placeholder-slate-600 w-full ml-2",onFocus:l[3]||(l[3]=g=>i.value=!0),onBlur:N},null,40,st),[[se,e(s).searchQuery]]),e(s).searchQuery?(o(),n("button",{key:0,onClick:l[4]||(l[4]=g=>e(s).searchQuery=""),class:"text-slate-500 hover:text-white transition-colors"},[f(e(he),{class:"w-4 h-4"})])):v("",!0)]),!e(u)&&(e(i)&&e(s).searchQuery&&e(w)||e(i)&&e(s).searchQuery&&e(L))?(o(),n("div",ot,[e(w)?(o(),n("div",at," Searching... ")):(o(),n(M,{key:1},[(o(!0),n(M,null,A(e(V),(g,T)=>(o(),n("div",{key:T},[t("div",nt,y(T),1),(o(!0),n(M,null,A(g,j=>(o(),n("div",{key:j.id,onMousedown:G(St=>Z(j.url),["prevent"]),class:"px-4 py-3 hover:bg-white/5 cursor-pointer transition-colors flex items-center gap-3"},[t("div",lt,[(o(),F(B(h(j.icon)),{class:"w-4 h-4"}))]),t("div",null,[t("p",it,y(j.title),1),t("p",ct,y(j.subtitle),1)])],40,rt))),128))]))),128)),!e(L)&&!e(w)?(o(),n("div",dt," No results found ")):v("",!0)],64))])):v("",!0)]),t("div",ut,[t("button",{onClick:l[5]||(l[5]=g=>r.value=!e(r)),class:"p-2 text-slate-400 hover:text-white transition-colors relative focus:outline-none"},[f(e(be),{class:"w-5 h-5"}),e(s).unreadNotifications>0?(o(),n("span",mt)):v("",!0)]),e(r)?(o(),n("div",pt,[t("div",ht,[l[7]||(l[7]=t("h3",{class:"font-display font-semibold text-white"},"Notifications",-1)),e(s).unreadNotifications>0?(o(),n("span",ft,y(e(s).unreadNotifications)+" New ",1)):v("",!0)]),t("div",xt,[e(s).notifications.length===0?(o(),n("div",bt," No notifications yet ")):v("",!0),(o(!0),n(M,null,A(e(s).notifications,g=>(o(),n("div",{key:g.id,class:$(["p-4 border-b border-white/5 hover:bg-white/5 cursor-pointer transition-colors flex gap-3",{"opacity-50":g.isRead}])},[t("div",gt,[t("div",{class:$(["w-2 h-2 rounded-full",g.color||"bg-indigo-500"])},null,2)]),t("div",null,[t("p",vt,y(g.text),1),t("p",wt,y(g.time),1)])],2))),128))]),e(s).unreadNotifications>0?(o(),n("div",{key:0,onClick:ee,class:"p-3 text-center border-t border-white/5 bg-white/5 hover:bg-white/10 cursor-pointer transition-colors"},[...l[8]||(l[8]=[t("span",{class:"text-xs font-medium text-indigo-400"},"Mark all as read",-1)])])):v("",!0)])):v("",!0)])])}}},yt=E(_t,[["__scopeId","data-v-165923f1"]]),kt={class:"flex h-screen overflow-hidden bg-slate-950 text-white"},$t={class:"hidden lg:block w-64 flex-shrink-0 z-30"},Ct={class:"flex-1 flex flex-col min-w-0 overflow-hidden"},Mt={class:"flex-1 overflow-y-auto p-4 md:p-8 scroll-smooth"},At={class:"max-w-7xl mx-auto"},It={__name:"default",setup(m){const a=k(!1),p=P();return R(()=>p.path,()=>{a.value=!1}),(s,r)=>{const i=qe,x=yt;return o(),n("div",kt,[t("div",$t,[f(i)]),e(a)?(o(),n("div",{key:0,onClick:r[0]||(r[0]=w=>a.value=!1),class:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden"})):v("",!0),t("div",{class:$(["fixed inset-y-0 left-0 w-64 bg-slate-900 z-50 transform transition-transform duration-300 lg:hidden border-r border-white/10",e(a)?"translate-x-0":"-translate-x-full"])},[f(i,{onCloseMobile:r[1]||(r[1]=w=>a.value=!1)})],2),t("div",Ct,[f(x,{onToggleSidebar:r[2]||(r[2]=w=>a.value=!e(a))}),t("main",Mt,[t("div",At,[ae(s.$slots,"default")])])])])}}};export{It as default};
