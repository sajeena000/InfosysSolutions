import{_ as F}from"./B7zsFk_Y.js";import{g as z,r as a,j as B,c as r,a as e,k as d,l as I,b,F as C,m as P,n as o,t as u,p as q,q as f,v as h,s as N,x as T,T as Q,y as J,o as n}from"./BAvuBg4s.js";import{_ as O}from"./Bch17VXu.js";import{u as W}from"./BTVZUTuI.js";import{_ as X}from"./DlAUqK2U.js";import{P as G}from"./D4D9W4AW.js";import{T as H}from"./CwKXUYwU.js";import{L as K}from"./QZ8qHNXX.js";import{M as Y}from"./BS3QBk9h.js";import{X as Z}from"./BwZpcNeh.js";import"./uoPWt5tl.js";import"./CSLnjY7V.js";import"./CJ2mP9ci.js";const ee={class:"space-y-8 relative"},te={class:"flex flex-col md:flex-row md:items-center justify-between gap-4"},le={class:"flex items-center gap-4"},oe={class:"hidden sm:flex p-1 bg-slate-900/50 border border-white/5 rounded-lg backdrop-blur-sm"},se=["onClick"],ie={class:"flex sm:hidden p-1 bg-slate-900/50 border border-white/5 rounded-lg backdrop-blur-sm w-full"},ne=["onClick"],re={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ae={class:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-all"},de=["onClick"],ue=["onClick"],ce={key:0,class:"absolute top-4 left-4"},me={class:"flex items-start justify-between mb-4 mt-4"},pe={class:"relative"},be=["src"],fe={class:"text-white font-medium text-lg"},ge={class:"text-indigo-400 text-sm mb-1"},xe={class:"text-slate-500 text-xs"},ve={key:1,class:"text-slate-400 text-sm mt-3 line-clamp-2"},he={class:"mt-6 pt-4 border-t border-white/5 flex items-center gap-3"},we=["href"],ye=["href"],_e={key:0,class:"text-center py-20 border border-dashed border-white/10 rounded-2xl"},ke={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center px-4"},Te={class:"relative w-full max-w-lg bg-slate-900 border border-white/10 rounded-2xl shadow-2xl p-6 overflow-hidden transform transition-all max-h-[90vh] overflow-y-auto"},Ue={class:"relative z-10"},Me={class:"flex justify-between items-center mb-6"},Ce={class:"text-xl font-display font-bold text-white"},Pe={class:"grid grid-cols-2 gap-4"},De={class:"space-y-1"},je={class:"space-y-1"},Ve={class:"grid grid-cols-2 gap-4"},$e={class:"space-y-1"},Se={class:"space-y-1"},Ee={class:"space-y-1"},Le={class:"grid grid-cols-2 gap-4"},Re={class:"space-y-1"},Ae={class:"space-y-1"},Fe={class:"flex items-center justify-between p-4 bg-slate-950/50 rounded-xl border border-white/5"},ze={class:"pt-4 flex gap-3"},Be={type:"submit",class:"flex-1 px-4 py-2.5 rounded-xl bg-indigo-600 hover:bg-indigo-500 text-white text-sm font-medium shadow-lg shadow-indigo-500/20 transition-all"},Ie={__name:"team",setup(qe){const c=z(),{canAddMembers:j,canEditMembers:V,canRemoveMembers:$}=W(),m=a(!1),U=a(null),p=a("all"),w=a(!1),g=a(""),x=a(""),v=a("success"),i=a({id:null,name:"",email:"",role:"Frontend Developer",jobTitle:"",bio:"",linkedinUrl:"",imageUrl:"",isPublic:!1}),D=B(()=>{let s=c.team;if(p.value==="online"?s=s.filter(t=>t.online):p.value==="offline"&&(s=s.filter(t=>!t.online)),c.searchQuery){const t=c.searchQuery.toLowerCase();s=s.filter(k=>k.name.toLowerCase().includes(t)||k.role.toLowerCase().includes(t)||k.email.toLowerCase().includes(t))}return s}),S=()=>{w.value=!1,i.value={id:null,name:"",email:"",role:"Frontend Developer",jobTitle:"",bio:"",linkedinUrl:"",imageUrl:"",isPublic:!1},m.value=!0},E=s=>{w.value=!0,i.value={id:s.id,name:s.name,email:s.email,role:s.role,jobTitle:s.jobTitle||"",bio:s.bio||"",linkedinUrl:s.linkedinUrl||"",imageUrl:s.imageUrl||"",isPublic:s.isPublic||!1},m.value=!0},L=async()=>{try{w.value?(await c.editTeamMember(i.value),g.value="Updated",x.value="Team member details updated.",v.value="success"):(await c.addTeamMember({...i.value}),g.value="Success",x.value="Team member added to database.",v.value="success"),m.value=!1}catch(s){g.value="Error",x.value="Failed to save changes.",v.value="error",console.error(s)}finally{U.value.show()}},y=a(!1),_=a(null),R=s=>{_.value=s,y.value=!0},A=async()=>{if(_.value)try{await c.removeTeamMember(_.value.id),g.value="Deleted",x.value="Member removed from database.",v.value="success"}catch{g.value="Error",x.value="Could not delete member.",v.value="error"}finally{y.value=!1,_.value=null,U.value.show()}};return(s,t)=>{const k=F;return n(),r("div",ee,[e("div",te,[t[13]||(t[13]=e("div",null,[e("h1",{class:"text-3xl font-display font-bold text-white mb-2"},"Team Members"),e("p",{class:"text-slate-400"},"Manage your squad permissions and public profiles.")],-1)),e("div",le,[e("div",oe,[(n(),r(C,null,P(["all","online","offline"],l=>e("button",{key:l,onClick:M=>p.value=l,class:T(["px-3 py-1.5 text-xs font-medium rounded-md capitalize transition-all",o(p)===l?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-white"])},u(l),11,se)),64))]),o(j)?(n(),r("button",{key:0,onClick:S,class:"px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg text-sm font-medium shadow-lg shadow-indigo-500/20 transition-all"}," + Add Member ")):d("",!0)])]),e("div",ie,[(n(),r(C,null,P(["all","online","offline"],l=>e("button",{key:l,onClick:M=>p.value=l,class:T(["flex-1 px-3 py-1.5 text-xs font-medium rounded-md capitalize transition-all",o(p)===l?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-white"])},u(l),11,ne)),64))]),e("div",re,[(n(!0),r(C,null,P(o(D),l=>(n(),r("div",{key:l.id,class:"group p-6 rounded-2xl bg-slate-900/40 border border-white/5 hover:border-indigo-500/30 transition-all hover:bg-slate-800/50 relative"},[e("div",ae,[o(V)?(n(),r("button",{key:0,onClick:M=>E(l),class:"p-2 text-slate-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:"Edit Member"},[b(o(G),{class:"w-4 h-4"})],8,de)):d("",!0),o($)?(n(),r("button",{key:1,onClick:M=>R(l),class:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-500/10 rounded-lg transition-colors",title:"Remove Member"},[b(o(H),{class:"w-4 h-4"})],8,ue)):d("",!0)]),l.isPublic?(n(),r("div",ce,[...t[14]||(t[14]=[e("span",{class:"px-2 py-1 bg-emerald-500/20 text-emerald-400 text-[10px] uppercase tracking-wider rounded-full font-semibold"}," Public ",-1)])])):d("",!0),e("div",me,[e("div",pe,[e("img",{src:l.imageUrl||`https://api.dicebear.com/7.x/avataaars/svg?seed=${l.name}`,class:"w-12 h-12 rounded-full bg-slate-800",alt:"Avatar"},null,8,be),e("div",{class:T(["absolute -bottom-1 -right-1 w-3 h-3 border-2 border-slate-900 rounded-full",l.online?"bg-emerald-500":"bg-slate-500"])},null,2)])]),e("div",null,[e("h3",fe,u(l.name),1),e("p",ge,u(l.jobTitle||l.role),1),e("p",xe,u(l.email),1)]),l.bio?(n(),r("p",ve,u(l.bio),1)):d("",!0),e("div",he,[l.linkedinUrl?(n(),r("a",{key:0,href:l.linkedinUrl,target:"_blank",class:"p-2 rounded-lg bg-white/5 hover:bg-[#0077b5]/20 text-slate-400 hover:text-[#0077b5] transition-all border border-white/5 hover:border-[#0077b5]/30 group/linkedin",title:"LinkedIn Profile"},[b(o(K),{class:"w-4 h-4"})],8,we)):d("",!0),e("a",{href:`mailto:${l.email}`,class:"p-2 rounded-lg bg-white/5 hover:bg-emerald-500/20 text-slate-400 hover:text-emerald-400 transition-all border border-white/5 hover:border-emerald-500/30",title:"Send Email"},[b(o(Y),{class:"w-4 h-4"})],8,ye)])]))),128))]),o(D).length===0?(n(),r("div",_e,[t[15]||(t[15]=e("p",{class:"text-slate-500"},"No team members found.",-1)),e("button",{onClick:t[0]||(t[0]=l=>{o(c).searchQuery="",p.value="all"}),class:"mt-2 text-indigo-400 hover:text-indigo-300 text-sm"},"Clear Filters")])):d("",!0),(n(),I(Q,{to:"body"},[o(m)?(n(),r("div",ke,[e("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t[1]||(t[1]=l=>m.value=!1)}),e("div",Te,[t[25]||(t[25]=e("div",{class:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/10 rounded-full blur-2xl -mr-16 -mt-16 pointer-events-none"},null,-1)),e("div",Ue,[e("div",Me,[e("h3",Ce,u(o(w)?"Edit Team Member":"Add Team Member"),1),e("button",{onClick:t[2]||(t[2]=l=>m.value=!1),class:"text-slate-400 hover:text-white"},[b(o(Z),{class:"w-5 h-5"})])]),e("form",{class:"space-y-4",onSubmit:q(L,["prevent"])},[e("div",Pe,[e("div",De,[t[16]||(t[16]=e("label",{class:"text-sm font-medium text-slate-300"},"Full Name",-1)),f(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>o(i).name=l),required:"",type:"text",class:"w-full bg-slate-950 border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm focus:outline-none focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/50 transition-all"},null,512),[[h,o(i).name]])]),e("div",je,[t[17]||(t[17]=e("label",{class:"text-sm font-medium text-slate-300"},"Email Address",-1)),f(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>o(i).email=l),required:"",type:"email",class:"w-full bg-slate-950 border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm focus:outline-none focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/50 transition-all"},null,512),[[h,o(i).email]])])]),e("div",Ve,[e("div",$e,[t[19]||(t[19]=e("label",{class:"text-sm font-medium text-slate-300"},"Role",-1)),f(e("select",{"onUpdate:modelValue":t[5]||(t[5]=l=>o(i).role=l),class:"w-full bg-slate-950 border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm focus:outline-none focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/50 transition-all"},[...t[18]||(t[18]=[e("option",null,"Frontend Developer",-1),e("option",null,"Backend Developer",-1),e("option",null,"Product Designer",-1),e("option",null,"Intern",-1),e("option",null,"DevOps Engineer",-1),e("option",null,"Project Manager",-1)])],512),[[N,o(i).role]])]),e("div",Se,[t[20]||(t[20]=e("label",{class:"text-sm font-medium text-slate-300"},"Job Title (Public)",-1)),f(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>o(i).jobTitle=l),type:"text",placeholder:"e.g. Senior Developer",class:"w-full bg-slate-950 border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm focus:outline-none focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/50 transition-all"},null,512),[[h,o(i).jobTitle]])])]),e("div",Ee,[t[21]||(t[21]=e("label",{class:"text-sm font-medium text-slate-300"},"Bio",-1)),f(e("textarea",{"onUpdate:modelValue":t[7]||(t[7]=l=>o(i).bio=l),rows:"3",placeholder:"A brief bio for the public team page...",class:"w-full bg-slate-950 border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm focus:outline-none focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/50 transition-all resize-none"},null,512),[[h,o(i).bio]])]),e("div",Le,[e("div",Re,[t[22]||(t[22]=e("label",{class:"text-sm font-medium text-slate-300"},"LinkedIn URL",-1)),f(e("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>o(i).linkedinUrl=l),type:"url",placeholder:"https://linkedin.com/in/...",class:"w-full bg-slate-950 border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm focus:outline-none focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/50 transition-all"},null,512),[[h,o(i).linkedinUrl]])]),e("div",Ae,[t[23]||(t[23]=e("label",{class:"text-sm font-medium text-slate-300"},"Image URL",-1)),f(e("input",{"onUpdate:modelValue":t[9]||(t[9]=l=>o(i).imageUrl=l),type:"url",placeholder:"https://...",class:"w-full bg-slate-950 border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm focus:outline-none focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/50 transition-all"},null,512),[[h,o(i).imageUrl]])])]),e("div",Fe,[t[24]||(t[24]=e("div",null,[e("p",{class:"text-sm font-medium text-white"},"Show on Public Website"),e("p",{class:"text-xs text-slate-500"},"Display this member on the public team page")],-1)),e("button",{type:"button",onClick:t[10]||(t[10]=l=>o(i).isPublic=!o(i).isPublic),class:T(["w-12 h-7 rounded-full relative transition-colors",o(i).isPublic?"bg-indigo-600":"bg-slate-700"])},[e("div",{class:T(["absolute top-1 w-5 h-5 bg-white rounded-full transition-all duration-300",o(i).isPublic?"right-1":"left-1"])},null,2)],2)]),e("div",ze,[e("button",{type:"button",onClick:t[11]||(t[11]=l=>m.value=!1),class:"flex-1 px-4 py-2.5 rounded-xl bg-white/5 hover:bg-white/10 text-white text-sm font-medium border border-white/5 transition-colors"}," Cancel "),e("button",Be,u(o(w)?"Save Changes":"Send Invite"),1)])],32)])])])):d("",!0)])),b(O,{modelValue:o(y),"onUpdate:modelValue":t[12]||(t[12]=l=>J(y)?y.value=l:null),title:"Remove Team Member",description:`Are you sure you want to remove ${o(_)?.name} from the team? This action cannot be undone.`,"confirm-text":"Remove Member",onConfirm:A},null,8,["modelValue","description"]),b(k,{ref_key:"toastRef",ref:U,title:o(g),message:o(x),type:o(v)},null,8,["title","message","type"])])}}},lt=X(Ie,[["__scopeId","data-v-fa4c7b9b"]]);export{lt as default};
