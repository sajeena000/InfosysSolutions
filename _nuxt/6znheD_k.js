import{_ as E}from"./DlAUqK2U.js";import{c as n,o,a as t,I as T,B as H,g as W,r as $,b as f,w as N,F as C,m as S,k as g,l as z,n as e,A as R,t as _,x as M,y as D,q as I,p as G,H as B,J as U,j as O,v as se,K as oe,L as ae}from"./Du6vl7cu.js";import{_ as ne}from"./BE3XhoK_.js";import{_ as le}from"./DZgUEI4S.js";import{u as re}from"./MBbougbj.js";import{c as k}from"./UASeGJHx.js";import{U as ie}from"./C7ewE7C1.js";import{F as J}from"./C-D4lnvO.js";import{C as K}from"./D3qRTMLT.js";import{M as ce}from"./pa9www1i.js";import{B as X}from"./d8hVy9Bh.js";import{L as de}from"./Dcpz7tix.js";import{C as ue}from"./VdznGaUi.js";import{M as he,U as pe}from"./Cv9kndqz.js";import{X as me}from"./BpFcPptF.js";const fe=k("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);const xe=k("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]);const be=k("chart-no-axes-column-increasing",[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]]);const ve=k("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);const ge=k("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const we=k("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);const ye=k("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);const _e=k("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);const Q=k("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);const Y=k("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ke={},$e={class:"flex items-center gap-2 text-white"};function Me(h,a){return o(),n("div",$e,[...a[0]||(a[0]=[t("div",{class:"w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg shadow-indigo-500/20"},[t("span",{class:"font-display font-bold text-lg"},"TB")],-1),t("span",{class:"font-display font-bold text-xl tracking-tight"},"The Dashboard",-1)])])}const Ce=Object.assign(E(ke,[["render",Me]]),{__name:"UiLogo"}),Se={class:"h-full flex flex-col bg-slate-900/50 backdrop-blur-xl border-r border-white/5"},Ve={class:"h-16 flex items-center px-6 border-b border-white/5"},Le={class:"flex-1 px-4 py-6 space-y-1 overflow-y-auto"},je={key:0,class:"absolute left-0 top-0 bottom-0 w-1 bg-indigo-500 rounded-r-full"},Ae={class:"font-medium text-sm"},ze={key:0,class:"absolute left-0 top-0 bottom-0 w-1 bg-indigo-500 rounded-r-full"},Fe={class:"font-medium text-sm"},Ne={key:1,class:"ml-auto px-2 py-0.5 bg-rose-500 text-white text-[10px] font-bold rounded-full"},Oe={href:"/",target:"_blank",class:"flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 text-slate-400 hover:text-white hover:bg-white/5 mt-6"},Re={class:"p-4 border-t border-white/5"},Te={class:"flex items-center gap-3 px-4 py-3 rounded-xl bg-white/5 border border-white/5"},Be=["src"],Pe={class:"flex-1 min-w-0"},Ue={class:"text-sm font-medium text-white truncate"},Qe={class:"flex items-center gap-1.5"},qe={__name:"Sidebar",setup(h){const a=T(),p=H(),s=W(),{currentRole:l}=re(),i=$(!1),x=()=>{i.value=!0},w=()=>{i.value=!1,s.logout(),p.push("/admin/login")},c=[{name:"Dashboard",path:"/admin",icon:ye},{name:"Analytics",path:"/admin/analytics",icon:ve},{name:"Team",path:"/admin/team",icon:ie},{name:"Settings",path:"/admin/settings",icon:Y}],y=[{name:"Blog Posts",path:"/admin/blogs",icon:J},{name:"Events",path:"/admin/events",icon:K},{name:"Inquiries",path:"/admin/contacts",icon:ce},{name:"Projects",path:"/admin/projects",icon:X}];return(d,u)=>{const V=Ce,L=ne,A=le;return o(),n("aside",Se,[t("div",Ve,[f(L,{to:"/admin"},{default:N(()=>[f(V)]),_:1})]),t("nav",Le,[u[4]||(u[4]=t("p",{class:"px-4 text-[10px] uppercase tracking-wider text-slate-500 mb-2"},"Main",-1)),(o(),n(C,null,S(c,m=>f(L,{key:m.path,to:m.path,class:M(["flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative overflow-hidden",e(a).path===m.path?"bg-indigo-500/10 text-indigo-400":"text-slate-400 hover:text-white hover:bg-white/5"]),onClick:u[0]||(u[0]=F=>d.$emit("close-mobile"))},{default:N(()=>[e(a).path===m.path?(o(),n("div",je)):g("",!0),(o(),z(R(m.icon),{class:"w-5 h-5 transition-transform group-hover:scale-110"})),t("span",Ae,_(m.name),1)]),_:2},1032,["to","class"])),64)),u[5]||(u[5]=t("p",{class:"px-4 text-[10px] uppercase tracking-wider text-slate-500 mt-6 mb-2"},"Content",-1)),(o(),n(C,null,S(y,m=>f(L,{key:m.path,to:m.path,class:M(["flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative overflow-hidden",e(a).path===m.path?"bg-indigo-500/10 text-indigo-400":"text-slate-400 hover:text-white hover:bg-white/5"]),onClick:u[1]||(u[1]=F=>d.$emit("close-mobile"))},{default:N(()=>[e(a).path===m.path?(o(),n("div",ze)):g("",!0),(o(),z(R(m.icon),{class:"w-5 h-5 transition-transform group-hover:scale-110"})),t("span",Fe,_(m.name),1),m.badge?(o(),n("span",Ne,_(m.badge),1)):g("",!0)]),_:2},1032,["to","class"])),64)),t("a",Oe,[f(e(ge),{class:"w-5 h-5"}),u[3]||(u[3]=t("span",{class:"font-medium text-sm"},"View Website",-1))])]),t("div",Re,[t("div",Te,[t("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${e(s).userProfile.name}`,alt:"User",class:"w-8 h-8 rounded-full bg-slate-700"},null,8,Be),t("div",Pe,[t("p",Ue,_(e(s).userProfile.name),1),t("div",Qe,[t("span",{class:M(["text-[10px] uppercase tracking-wider px-1.5 py-0.5 rounded font-semibold",{"bg-indigo-500/20 text-indigo-400":e(l)==="admin","bg-amber-500/20 text-amber-400":e(l)==="manager","bg-slate-500/20 text-slate-400":e(l)==="member"}])},_(e(l)),3)])]),t("button",{onClick:x,class:"p-1 text-slate-500 hover:text-rose-400 transition-colors",title:"Sign Out"},[f(e(de),{class:"w-4 h-4"})])])]),f(A,{modelValue:e(i),"onUpdate:modelValue":u[2]||(u[2]=m=>D(i)?i.value=m:null),title:"Log Out",description:"Are you sure you want to log out of your account?","confirm-text":"Log Out",type:"danger",onConfirm:w},null,8,["modelValue"])])}}},Ee={class:"relative"},He={key:0,class:"ml-2 text-xs font-medium"},We={key:0,class:"absolute top-full left-0 mt-2 w-48 bg-slate-900 border border-white/10 rounded-xl shadow-2xl shadow-black/50 overflow-hidden z-50 py-1"},De=["onClick"],Ie={__name:"SearchFilter",props:{modelValue:{type:String,default:"all"}},emits:["update:modelValue"],setup(h,{emit:a}){const p=a,s=$(!1),l=[{label:"All",value:"all"},{label:"Team",value:"team"},{label:"Projects",value:"projects"},{label:"Clients",value:"clients"},{label:"Blogs",value:"blogs"},{label:"Events",value:"events"},{label:"Contacts",value:"contacts"}],i=c=>{p("update:modelValue",c),s.value=!1},x=()=>{s.value=!1},w={mounted(c,y){c.clickOutsideEvent=d=>{c===d.target||c.contains(d.target)||y.value(d)},document.body.addEventListener("click",c.clickOutsideEvent)},unmounted(c){document.body.removeEventListener("click",c.clickOutsideEvent)}};return(c,y)=>(o(),n("div",Ee,[t("button",{onClick:y[0]||(y[0]=G(d=>s.value=!e(s),["stop"])),class:M(["flex items-center justify-center px-2 text-slate-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors focus:outline-none h-8",{"text-indigo-400":h.modelValue!=="all"}])},[f(e(we),{class:"w-4 h-4"}),h.modelValue!=="all"?(o(),n("span",He,_(h.modelValue),1)):g("",!0)],2),e(s)?I((o(),n("div",We,[y[1]||(y[1]=t("div",{class:"px-3 py-2 text-xs font-medium text-slate-500 uppercase tracking-wider border-b border-white/5 mb-1"}," Search filter ",-1)),(o(),n(C,null,S(l,d=>t("button",{key:d.value,onClick:u=>i(d.value),class:M(["w-full text-left px-4 py-2 text-sm hover:bg-white/5 transition-colors flex items-center justify-between",h.modelValue===d.value?"text-indigo-400":"text-slate-300"])},[t("span",null,_(d.label),1),h.modelValue===d.value?(o(),z(e(ue),{key:0,class:"w-3 h-3"})):g("",!0)],10,De)),64))])),[[w,x]]):g("",!0)]))}};typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const q=()=>{};function Ge(h,a){function p(...s){return new Promise((l,i)=>{Promise.resolve(h(()=>a.apply(this,s),{fn:a,thisArg:this,args:s})).then(l).catch(i)})}return p}const Je=h=>h();function Ke(h,a={}){let p,s,l=q;const i=c=>{clearTimeout(c),l(),l=q};let x;return c=>{const y=U(h),d=U(a.maxWait);return p&&i(p),y<=0||d!==void 0&&d<=0?(s&&(i(s),s=void 0),Promise.resolve(c())):new Promise((u,V)=>{l=a.rejectOnCancel?V:u,x=c,d&&!s&&(s=setTimeout(()=>{p&&i(p),s=void 0,u(x())},d)),p=setTimeout(()=>{s&&i(s),s=void 0,u(c())},y)})}}function Xe(h,a,p={}){const{eventFilter:s=Je,...l}=p;return B(h,Ge(s,a),l)}function Ye(h,a,p={}){const{debounce:s=0,maxWait:l=void 0,...i}=p;return Xe(h,a,{...i,eventFilter:Ke(s,{maxWait:l})})}const Ze={class:"h-16 flex items-center justify-between px-6 bg-slate-900/50 backdrop-blur-md border-b border-white/5 sticky top-0 z-20"},et={class:"hidden md:block relative"},tt={class:"flex items-center gap-2 px-3 py-2 rounded-full bg-slate-950/50 border border-white/10 w-96 focus-within:border-indigo-500/50 focus-within:ring-1 focus-within:ring-indigo-500/50 transition-all"},st=["placeholder"],ot={key:0,class:"absolute top-full left-0 right-0 mt-2 bg-slate-900 border border-white/10 rounded-xl shadow-2xl shadow-black/50 overflow-hidden z-50 max-h-96 overflow-y-auto custom-scrollbar"},at={key:0,class:"p-4 text-center text-slate-500 text-sm"},nt={class:"px-3 py-2 text-xs font-medium text-slate-500 uppercase tracking-wider border-b border-white/5 bg-slate-950/30 sticky top-0 backdrop-blur-sm"},lt=["onMousedown"],rt={class:"w-8 h-8 rounded-lg bg-slate-800 flex items-center justify-center text-indigo-400"},it={class:"text-sm text-white"},ct={class:"text-xs text-slate-500"},dt={key:0,class:"p-4 text-center text-slate-500 text-sm"},ut={class:"flex items-center gap-4 relative"},ht={key:0,class:"absolute top-2 right-2 w-2 h-2 bg-rose-500 rounded-full animate-pulse"},pt={key:0,class:"absolute right-0 top-12 w-80 bg-slate-900 border border-white/10 rounded-2xl shadow-2xl shadow-black/50 overflow-hidden backdrop-blur-xl z-50 transform origin-top-right transition-all"},mt={class:"p-4 border-b border-white/5 flex justify-between items-center"},ft={key:0,class:"text-xs bg-indigo-500/20 text-indigo-300 px-2 py-0.5 rounded-full"},xt={class:"max-h-64 overflow-y-auto custom-scrollbar"},bt={key:0,class:"p-6 text-center text-slate-500 text-sm"},vt={class:"mt-1"},gt={class:"text-sm text-slate-200"},wt={class:"text-xs text-slate-500 mt-1"},yt={__name:"Header",setup(h){const a=T(),p=H(),s=W(),l=$(!1),i=$(!1),x=$([]),w=$(!1),c=$("all"),y=oe(),d=["/admin/team","/admin/blogs","/admin/events","/admin/contacts","/admin/projects"],u=O(()=>d.includes(a.path));B(()=>a.path,()=>{i.value=!1});const V=async()=>{if(console.log("Performing search for:",s.searchQuery),!s.searchQuery||s.searchQuery.length<2){x.value=[];return}w.value=!0;try{const b=`${y.app.baseURL}api/search`.replace("//","/");console.log("Fetching from:",b);const r=await $fetch(b,{params:{q:s.searchQuery,type:c.value}});console.log("Search results:",r),x.value=r}catch(b){console.error("Search failed",b),x.value=[]}finally{w.value=!1}};Ye([()=>s.searchQuery,c],()=>{V()},{debounce:300,maxWait:1e3});const L=O(()=>x.value.length?x.value.reduce((b,r)=>(b[r.type]||(b[r.type]=[]),b[r.type].push(r),b),{}):{}),A=O(()=>x.value.length>0),m=b=>({User:pe,Briefcase:X,FileText:J,Calendar:K,MessageSquare:_e,Building:xe,BarChart:be,Settings:Y})[b]||Q,F=()=>{setTimeout(()=>{i.value=!1},200)},Z=b=>{p.push(b),i.value=!1},ee=async()=>{await s.markAllNotificationsAsRead()};return(b,r)=>{const te=Ie;return o(),n("header",Ze,[t("button",{onClick:r[0]||(r[0]=v=>b.$emit("toggle-sidebar")),class:"lg:hidden p-2 -ml-2 text-slate-400 hover:text-white"},[f(e(he),{class:"w-6 h-6"})]),t("div",et,[t("div",tt,[f(e(Q),{class:"w-4 h-4 text-slate-500 shrink-0"}),r[6]||(r[6]=t("div",{class:"h-4 w-[1px] bg-white/10 mx-1 shrink-0"},null,-1)),f(te,{modelValue:e(c),"onUpdate:modelValue":r[1]||(r[1]=v=>D(c)?c.value=v:null),class:"shrink-0"},null,8,["modelValue"]),I(t("input",{"onUpdate:modelValue":r[2]||(r[2]=v=>e(s).searchQuery=v),type:"text",placeholder:e(u)?"Filter this page...":"Search...",class:"bg-transparent border-none outline-none text-sm text-white placeholder-slate-600 w-full ml-2",onFocus:r[3]||(r[3]=v=>i.value=!0),onBlur:F},null,40,st),[[se,e(s).searchQuery]]),e(s).searchQuery?(o(),n("button",{key:0,onClick:r[4]||(r[4]=v=>e(s).searchQuery=""),class:"text-slate-500 hover:text-white transition-colors"},[f(e(me),{class:"w-4 h-4"})])):g("",!0)]),!e(u)&&(e(i)&&e(s).searchQuery&&e(w)||e(i)&&e(s).searchQuery&&e(A))?(o(),n("div",ot,[e(w)?(o(),n("div",at," Searching... ")):(o(),n(C,{key:1},[(o(!0),n(C,null,S(e(L),(v,P)=>(o(),n("div",{key:P},[t("div",nt,_(P),1),(o(!0),n(C,null,S(v,j=>(o(),n("div",{key:j.id,onMousedown:G(Vt=>Z(j.url),["prevent"]),class:"px-4 py-3 hover:bg-white/5 cursor-pointer transition-colors flex items-center gap-3"},[t("div",rt,[(o(),z(R(m(j.icon)),{class:"w-4 h-4"}))]),t("div",null,[t("p",it,_(j.title),1),t("p",ct,_(j.subtitle),1)])],40,lt))),128))]))),128)),!e(A)&&!e(w)?(o(),n("div",dt," No results found ")):g("",!0)],64))])):g("",!0)]),t("div",ut,[t("button",{onClick:r[5]||(r[5]=v=>l.value=!e(l)),class:"p-2 text-slate-400 hover:text-white transition-colors relative focus:outline-none"},[f(e(fe),{class:"w-5 h-5"}),e(s).unreadNotifications>0?(o(),n("span",ht)):g("",!0)]),e(l)?(o(),n("div",pt,[t("div",mt,[r[7]||(r[7]=t("h3",{class:"font-display font-semibold text-white"},"Notifications",-1)),e(s).unreadNotifications>0?(o(),n("span",ft,_(e(s).unreadNotifications)+" New ",1)):g("",!0)]),t("div",xt,[e(s).notifications.length===0?(o(),n("div",bt," No notifications yet ")):g("",!0),(o(!0),n(C,null,S(e(s).notifications,v=>(o(),n("div",{key:v.id,class:M(["p-4 border-b border-white/5 hover:bg-white/5 cursor-pointer transition-colors flex gap-3",{"opacity-50":v.isRead}])},[t("div",vt,[t("div",{class:M(["w-2 h-2 rounded-full",v.color||"bg-indigo-500"])},null,2)]),t("div",null,[t("p",gt,_(v.text),1),t("p",wt,_(v.time),1)])],2))),128))]),e(s).unreadNotifications>0?(o(),n("div",{key:0,onClick:ee,class:"p-3 text-center border-t border-white/5 bg-white/5 hover:bg-white/10 cursor-pointer transition-colors"},[...r[8]||(r[8]=[t("span",{class:"text-xs font-medium text-indigo-400"},"Mark all as read",-1)])])):g("",!0)])):g("",!0)])])}}},_t=E(yt,[["__scopeId","data-v-65501d3d"]]),kt={class:"flex h-screen overflow-hidden bg-slate-950 text-white"},$t={class:"hidden lg:block w-64 flex-shrink-0 z-30"},Mt={class:"flex-1 flex flex-col min-w-0 overflow-hidden"},Ct={class:"flex-1 overflow-y-auto p-4 md:p-8 scroll-smooth"},St={class:"max-w-7xl mx-auto"},Ht={__name:"default",setup(h){const a=$(!1),p=T();return B(()=>p.path,()=>{a.value=!1}),(s,l)=>{const i=qe,x=_t;return o(),n("div",kt,[t("div",$t,[f(i)]),e(a)?(o(),n("div",{key:0,onClick:l[0]||(l[0]=w=>a.value=!1),class:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden"})):g("",!0),t("div",{class:M(["fixed inset-y-0 left-0 w-64 bg-slate-900 z-50 transform transition-transform duration-300 lg:hidden border-r border-white/10",e(a)?"translate-x-0":"-translate-x-full"])},[f(i,{onCloseMobile:l[1]||(l[1]=w=>a.value=!1)})],2),t("div",Mt,[f(x,{onToggleSidebar:l[2]||(l[2]=w=>a.value=!e(a))}),t("main",Ct,[t("div",St,[ae(s.$slots,"default")])])])])}}};export{Ht as default};
