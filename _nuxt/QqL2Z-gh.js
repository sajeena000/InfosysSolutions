import{J as O,r as h,D as j,K as L,c as n,l as k,a as t,p as i,m as x,F as M,z as D,b as r,q as s,t as b,L as C,d as p,v as c,A as U,B as f,y as A,H as $,M as q,o as a}from"./PsU8fGEG.js";import{C as v}from"./C0WVU3vH.js";import{c as R}from"./w7z5CoPY.js";import{U as z}from"./Dpqv6Key.js";import{F as W}from"./CHNKvUcL.js";import{C as E}from"./bv-9-H5o.js";import{W as G}from"./BZ0gSUa8.js";import{Z as Y}from"./eHo7psdf.js";import{B as Z}from"./B5H3Xi1M.js";import{M as H}from"./G_qkxOkQ.js";import{G as J}from"./DwNSE9hR.js";import{A as K}from"./C0YTWziY.js";import{A as F}from"./BeSDNNK1.js";import{L as Q}from"./CMk14av7.js";import{C as X}from"./DUIq94hi.js";const ee=R("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),te={class:"py-12 bg-white dark:bg-slate-900 transition-colors duration-300 min-h-screen"},se={class:"max-w-3xl mx-auto px-4"},le={class:"flex items-center justify-center mb-12"},oe={class:"flex flex-col items-center"},ae={key:1},re={class:"text-xs mt-2 text-slate-500 dark:text-slate-400 font-medium hidden sm:block"},ne={class:"mb-8 p-5 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-slate-800 dark:to-slate-800 rounded-2xl border border-blue-100 dark:border-slate-700"},de={class:"flex items-center justify-between"},ie={class:"flex items-center gap-3"},ue={class:"w-10 h-10 rounded-xl bg-blue-600 flex items-center justify-center"},pe={class:"font-display font-bold text-slate-900 dark:text-white"},be={class:"text-sm text-slate-500 dark:text-slate-400"},me={class:"text-right"},xe={class:"text-2xl font-display font-bold text-slate-900 dark:text-white"},ce={class:"text-xl font-display font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2"},fe={class:"space-y-5"},ge={class:"grid md:grid-cols-2 gap-5"},he={class:"grid md:grid-cols-2 gap-5"},we={class:"text-xl font-display font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2"},ye={class:"space-y-5"},ke={class:"grid md:grid-cols-2 gap-5"},ve={class:"text-xl font-display font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2"},Pe={class:"grid md:grid-cols-2 gap-6"},je={key:0,class:"absolute top-3 right-3"},Me={class:"w-6 h-6 rounded-full bg-emerald-500 flex items-center justify-center"},Ce={class:"w-14 h-14 rounded-2xl bg-emerald-500 flex items-center justify-center mb-4"},Se={class:"mt-4 flex items-center gap-2 text-emerald-600 dark:text-emerald-400 text-sm font-medium"},Te={key:0,class:"absolute top-3 right-3"},_e={class:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center"},Ve={class:"w-14 h-14 rounded-2xl bg-blue-500 flex items-center justify-center mb-4"},Ne={class:"mt-4 flex items-center gap-2 text-blue-600 dark:text-blue-400 text-sm font-medium"},De={key:0,class:"absolute top-3 right-3"},Ue={class:"w-6 h-6 rounded-full bg-blue-700 flex items-center justify-center"},Ae={class:"mt-4 flex items-center gap-2 text-blue-800 dark:text-blue-400 text-sm font-medium"},Fe={class:"flex items-center justify-between mt-10"},Be={key:1},Ie=["disabled"],Oe=["disabled"],Le={key:0,class:"mt-6 p-4 bg-red-50 dark:bg-red-500/10 border border-red-200 dark:border-red-500/30 rounded-xl flex items-center gap-3"},$e={class:"text-sm text-red-700 dark:text-red-400"},qe=["action"],Re=["name","value"],at={__name:"index",setup(ze){const S=O(),T=h(null),P=j(()=>S.query.plan||"Basic"),_=j(()=>parseInt(S.query.amount)||2999),d=h(1),w=h(!1),g=h(""),y=h(null),V=["Your Info","Project","Payment"],l=L({fullName:"",email:"",phone:"",companyName:"",projectTitle:"",projectType:"",timeline:"",description:"",paymentMethod:""}),N=j(()=>d.value===1?l.fullName&&l.email:d.value===2?l.projectTitle&&l.projectType&&l.description:!0),B=()=>{g.value="",N.value&&d.value++},I=async()=>{if(l.paymentMethod){w.value=!0,g.value="";try{const m=await $fetch("/api/public/project-submit",{method:"POST",body:{...l,pricingPackage:P.value,amount:_.value}});if(l.paymentMethod==="onsite")$(`/payment/onsite?id=${m.id}`);else if(l.paymentMethod==="paypal"){const e=await $fetch("/api/public/paypal-initiate",{method:"POST",body:{submissionId:m.id}});e.approvalUrl&&(window.location.href=e.approvalUrl)}else{const e=await $fetch("/api/public/esewa-initiate",{method:"POST",body:{submissionId:m.id}});y.value=e,await q(),T.value?.submit()}}catch(m){g.value=m?.data?.message||"Something went wrong. Please try again.",w.value=!1}}};return(m,e)=>(a(),n("div",null,[e[36]||(e[36]=k('<section class="relative py-16 bg-blue-500 dark:!bg-slate-950 overflow-hidden transition-colors duration-300"><div class="absolute inset-0"><div class="absolute top-10 left-10 w-72 h-72 bg-white/10 dark:bg-blue-500/10 rounded-full blur-3xl"></div><div class="absolute bottom-0 right-10 w-96 h-96 bg-indigo-500/10 rounded-full blur-3xl"></div></div><div class="relative max-w-7xl mx-auto px-4 text-center"><h1 class="text-3xl md:text-4xl font-display font-bold text-white mb-2">Start Your Project</h1><p class="text-white/80 text-lg max-w-2xl mx-auto"> Tell us about your project and choose how you&#39;d like to pay </p></div></section>',1)),t("section",te,[t("div",se,[t("div",le,[(a(),n(M,null,D(V,(o,u)=>t("div",{key:u,class:"flex items-center"},[t("div",oe,[t("div",{class:f(["w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm transition-all duration-300",u+1<=s(d)?"bg-blue-600 text-white shadow-lg shadow-blue-500/30":"bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-400"])},[u+1<s(d)?(a(),A(s(v),{key:0,class:"w-5 h-5"})):(a(),n("span",ae,b(u+1),1))],2),t("span",re,b(o),1)]),u<V.length-1?(a(),n("div",{key:0,class:f(["w-12 sm:w-20 h-0.5 mx-2 transition-colors duration-300",u+1<s(d)?"bg-blue-600":"bg-slate-200 dark:bg-slate-700"])},null,2)):x("",!0)])),64))]),t("div",ne,[t("div",de,[t("div",ie,[t("div",ue,[r(s(ee),{class:"w-5 h-5 text-white"})]),t("div",null,[t("h3",pe,b(s(P))+" Plan",1),t("p",be,b(s(P)==="Basic"?"Perfect for startups":"For growing businesses"),1)])]),t("div",me,[t("span",xe,"Rs. "+b(s(_)?.toLocaleString()),1),e[12]||(e[12]=t("span",{class:"text-slate-500 text-sm block"},"/project",-1))])])]),i(t("div",null,[t("h2",ce,[r(s(z),{class:"w-5 h-5 text-blue-600"}),e[13]||(e[13]=p(" Your Information ",-1))]),t("div",fe,[t("div",ge,[t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5"},"Full Name *",-1)),i(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>s(l).fullName=o),type:"text",class:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"},null,512),[[c,s(l).fullName]])]),t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5"},"Email *",-1)),i(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>s(l).email=o),type:"email",class:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"},null,512),[[c,s(l).email]])])]),t("div",he,[t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5"},"Phone",-1)),i(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>s(l).phone=o),type:"tel",class:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"},null,512),[[c,s(l).phone]])]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5"},"Company Name",-1)),i(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>s(l).companyName=o),type:"text",class:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"},null,512),[[c,s(l).companyName]])])])])],512),[[C,s(d)===1]]),i(t("div",null,[t("h2",we,[r(s(W),{class:"w-5 h-5 text-blue-600"}),e[18]||(e[18]=p(" Project Details ",-1))]),t("div",ye,[t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5"},"Project Title *",-1)),i(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>s(l).projectTitle=o),type:"text",placeholder:"My Awesome Project",class:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"},null,512),[[c,s(l).projectTitle]])]),t("div",ke,[t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5"},"Project Type *",-1)),i(t("select",{"onUpdate:modelValue":e[5]||(e[5]=o=>s(l).projectType=o),class:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"},[...e[20]||(e[20]=[k('<option value="" disabled>Select type</option><option value="Web">Web Development</option><option value="Mobile">Mobile Development</option><option value="AI">AI &amp; Machine Learning</option><option value="DevOps">DevOps &amp; Cloud</option><option value="Consulting">Consulting</option><option value="Other">Other</option>',7)])],512),[[U,s(l).projectType]])]),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5"},"Preferred Timeline",-1)),i(t("select",{"onUpdate:modelValue":e[6]||(e[6]=o=>s(l).timeline=o),class:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"},[...e[22]||(e[22]=[k('<option value="" disabled>Select timeline</option><option value="1-2 weeks">1-2 weeks</option><option value="2-4 weeks">2-4 weeks</option><option value="1-2 months">1-2 months</option><option value="2-4 months">2-4 months</option><option value="4+ months">4+ months</option><option value="Flexible">Flexible</option>',7)])],512),[[U,s(l).timeline]])])]),t("div",null,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5"},"Project Description *",-1)),i(t("textarea",{"onUpdate:modelValue":e[7]||(e[7]=o=>s(l).description=o),rows:"4",placeholder:"Describe your project requirements, goals, and any specific features you need...",class:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none"},null,512),[[c,s(l).description]])])])],512),[[C,s(d)===2]]),i(t("div",null,[t("h2",ve,[r(s(E),{class:"w-5 h-5 text-blue-600"}),e[25]||(e[25]=p(" Choose Payment Method ",-1))]),t("div",Pe,[t("button",{onClick:e[8]||(e[8]=o=>s(l).paymentMethod="esewa"),class:f(["relative p-6 rounded-2xl border-2 transition-all duration-300 text-left group",s(l).paymentMethod==="esewa"?"border-emerald-500 bg-emerald-50 dark:bg-emerald-500/10 shadow-lg shadow-emerald-500/20":"border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 hover:border-emerald-300 dark:hover:border-emerald-500/50"])},[s(l).paymentMethod==="esewa"?(a(),n("div",je,[t("div",Me,[r(s(v),{class:"w-4 h-4 text-white"})])])):x("",!0),t("div",Ce,[r(s(G),{class:"w-7 h-7 text-white"})]),e[27]||(e[27]=t("h3",{class:"text-lg font-display font-bold text-slate-900 dark:text-white mb-1"},"Pay with eSewa",-1)),e[28]||(e[28]=t("p",{class:"text-sm text-slate-500 dark:text-slate-400"}," Instant online payment via Nepal's leading digital wallet ",-1)),t("div",Se,[r(s(Y),{class:"w-4 h-4"}),e[26]||(e[26]=p(" Quick & Secure ",-1))])],2),t("button",{onClick:e[9]||(e[9]=o=>s(l).paymentMethod="onsite"),class:f(["relative p-6 rounded-2xl border-2 transition-all duration-300 text-left group",s(l).paymentMethod==="onsite"?"border-blue-500 bg-blue-50 dark:bg-blue-500/10 shadow-lg shadow-blue-500/20":"border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 hover:border-blue-300 dark:hover:border-blue-500/50"])},[s(l).paymentMethod==="onsite"?(a(),n("div",Te,[t("div",_e,[r(s(v),{class:"w-4 h-4 text-white"})])])):x("",!0),t("div",Ve,[r(s(Z),{class:"w-7 h-7 text-white"})]),e[30]||(e[30]=t("h3",{class:"text-lg font-display font-bold text-slate-900 dark:text-white mb-1"},"Onsite Payment",-1)),e[31]||(e[31]=t("p",{class:"text-sm text-slate-500 dark:text-slate-400"}," Visit our office to complete payment and discuss your project in person ",-1)),t("div",Ne,[r(s(H),{class:"w-4 h-4"}),e[29]||(e[29]=p(" In-person Experience ",-1))])],2),t("button",{onClick:e[10]||(e[10]=o=>s(l).paymentMethod="paypal"),class:f(["relative p-6 rounded-2xl border-2 transition-all duration-300 text-left group",s(l).paymentMethod==="paypal"?"border-blue-700 bg-blue-50 dark:bg-blue-900/20 shadow-lg shadow-blue-700/20":"border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 hover:border-blue-400 dark:hover:border-blue-700/50"])},[s(l).paymentMethod==="paypal"?(a(),n("div",De,[t("div",Ue,[r(s(v),{class:"w-4 h-4 text-white"})])])):x("",!0),e[33]||(e[33]=k('<div class="w-14 h-14 rounded-2xl bg-white flex items-center justify-center mb-4 border border-slate-100 dark:border-slate-700 shadow-sm"><div class="font-bold italic text-2xl text-blue-800">P<span class="text-sky-500">P</span></div></div><h3 class="text-lg font-display font-bold text-slate-900 dark:text-white mb-1">Pay with PayPal</h3><p class="text-sm text-slate-500 dark:text-slate-400"> Safe and secure international payments </p>',3)),t("div",Ae,[r(s(J),{class:"w-4 h-4"}),e[32]||(e[32]=p(" Global Standard ",-1))])],2)])],512),[[C,s(d)===3]]),t("div",Fe,[s(d)>1?(a(),n("button",{key:0,onClick:e[11]||(e[11]=o=>d.value--),class:"px-6 py-3 text-sm font-medium text-slate-600 dark:text-slate-300 bg-slate-100 dark:bg-slate-800 rounded-xl hover:bg-slate-200 dark:hover:bg-slate-700 transition-all flex items-center gap-2"},[r(s(K),{class:"w-4 h-4"}),e[34]||(e[34]=p(" Back ",-1))])):(a(),n("div",Be)),s(d)<3?(a(),n("button",{key:2,onClick:B,disabled:!s(N),class:"px-8 py-3 text-sm font-medium text-white bg-blue-600 rounded-xl hover:bg-blue-700 transition-all flex items-center gap-2 shadow-lg shadow-blue-500/30 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none"},[e[35]||(e[35]=p(" Continue ",-1)),r(s(F),{class:"w-4 h-4"})],8,Ie)):(a(),n("button",{key:3,onClick:I,disabled:!s(l).paymentMethod||s(w),class:f(["px-8 py-3 text-sm font-medium text-white rounded-xl transition-all flex items-center gap-2 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none",s(l).paymentMethod==="esewa"?"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-500/30":"bg-blue-600 hover:bg-blue-700 shadow-blue-500/30"])},[s(w)?(a(),A(s(Q),{key:0,class:"w-4 h-4 animate-spin"})):(a(),n(M,{key:1},[p(b(s(l).paymentMethod==="esewa"?"Pay with eSewa":s(l).paymentMethod==="paypal"?"Pay with PayPal":"Submit & Visit Office")+" ",1),r(s(F),{class:"w-4 h-4"})],64))],10,Oe))]),s(g)?(a(),n("div",Le,[r(s(X),{class:"w-5 h-5 text-red-500 shrink-0"}),t("span",$e,b(s(g)),1)])):x("",!0)])]),t("form",{ref_key:"esewaFormRef",ref:T,method:"POST",action:s(y)?.esewaUrl,style:{display:"none"}},[s(y)?.formData?(a(!0),n(M,{key:0},D(s(y).formData,(o,u)=>(a(),n("input",{key:u,type:"hidden",name:u,value:o},null,8,Re))),128)):x("",!0)],8,qe)]))}};export{at as default};
