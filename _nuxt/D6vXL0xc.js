import{_ as z}from"./DzlxV7ns.js";import{_ as B}from"./9SQ5mlpr.js";import{g as N,r,D as q,c as a,a as e,m as h,y as I,b as T,F as M,z as U,q as o,t as u,n as Q,p as b,v as w,A as O,B as C,d as J,T as X,s as G,o as n}from"./PsU8fGEG.js";import{u as H}from"./Bpl96YC1.js";import{P as K}from"./DAW6YDx9.js";import{T as W}from"./-izbdZX4.js";import{X as Y}from"./BAiJTkiT.js";import"./DlAUqK2U.js";import"./w7z5CoPY.js";import"./DUIq94hi.js";import"./C0WVU3vH.js";const Z={class:"space-y-8 relative"},ee={class:"flex flex-col md:flex-row md:items-center justify-between gap-4"},te={class:"flex items-center gap-4"},le={class:"hidden sm:flex p-1 bg-slate-900/50 border border-white/5 rounded-lg backdrop-blur-sm"},oe=["onClick"],se={class:"flex sm:hidden p-1 bg-slate-900/50 border border-white/5 rounded-lg backdrop-blur-sm w-full"},ie=["onClick"],ne={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ae={class:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-all"},re=["onClick"],de=["onClick"],ue={class:"flex items-start justify-between mb-4"},ce={class:"relative"},me=["src"],pe={class:"text-white font-medium text-lg"},be={class:"text-indigo-400 text-sm mb-1"},fe={class:"text-slate-500 text-xs"},xe={class:"mt-6 pt-4 border-t border-white/5 flex gap-2 flex-wrap"},ve={key:0,class:"text-center py-20 border border-dashed border-white/10 rounded-2xl"},ge={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center px-4"},he={class:"relative w-full max-w-md bg-slate-900 border border-white/10 rounded-2xl shadow-2xl p-6 overflow-hidden transform transition-all"},we={class:"relative z-10"},ye={class:"flex justify-between items-center mb-6"},_e={class:"text-xl font-display font-bold text-white"},ke={class:"space-y-1"},Te={class:"space-y-1"},Ce={class:"space-y-1"},Me={class:"pt-4 border-t border-white/10"},Ue={class:"flex items-center justify-between mb-4"},Pe={key:0,class:"space-y-4 animate-in fade-in slide-in-from-top-2"},De={class:"space-y-1"},Ve={class:"space-y-1"},$e={class:"space-y-1"},je={class:"space-y-1"},Ee={class:"pt-4 flex gap-3"},Se={type:"submit",class:"flex-1 px-4 py-2.5 rounded-xl bg-indigo-600 hover:bg-indigo-500 text-white text-sm font-medium shadow-lg shadow-indigo-500/20 transition-all"},Xe={__name:"team",setup(Re){const d=N(),{canAddMembers:V,canEditMembers:$,canRemoveMembers:j}=H(),c=r(!1),P=r(null),m=r("all"),y=r(!1),f=r(""),x=r(""),v=r("success"),s=r({id:null,name:"",email:"",role:"Frontend Developer",isPublic:!1,jobTitle:"",bio:"",linkedinUrl:"",imageUrl:""}),D=q(()=>{let i=d.team;if(m.value==="online"?i=i.filter(t=>t.online):m.value==="offline"&&(i=i.filter(t=>!t.online)),d.searchQuery){const t=d.searchQuery.toLowerCase();i=i.filter(p=>p.name.toLowerCase().includes(t)||p.role.toLowerCase().includes(t)||p.email.toLowerCase().includes(t))}return i}),E=()=>{y.value=!1,s.value={id:null,name:"",email:"",role:"Frontend Developer",isPublic:!1,jobTitle:"",bio:"",linkedinUrl:"",imageUrl:""},c.value=!0},S=i=>{y.value=!0,s.value={id:i.id,name:i.name,email:i.email,role:i.role,isPublic:i.isPublic||!1,jobTitle:i.jobTitle||"",bio:i.bio||"",linkedinUrl:i.linkedinUrl||"",imageUrl:i.imageUrl||""},c.value=!0},R=async()=>{try{if(y.value){const t={...d.team.find(p=>p.id===s.value.id)||{},...s.value};await d.editTeamMember(t),f.value="Updated",x.value="Team member details updated.",v.value="success"}else await d.addTeamMember({...s.value}),f.value="Success",x.value="Team member added to database.",v.value="success";c.value=!1}catch(i){f.value="Error",x.value="Failed to save changes.",v.value="error",console.error(i)}finally{P.value.show()}},_=r(!1),k=r(null),A=i=>{k.value=i,_.value=!0},F=async()=>{if(k.value)try{await d.removeTeamMember(k.value.id),f.value="Deleted",x.value="Member removed from database.",v.value="success"}catch{f.value="Error",x.value="Could not delete member.",v.value="error"}finally{_.value=!1,k.value=null,P.value.show()}};return(i,t)=>{const p=z,L=B;return n(),a("div",Z,[e("div",ee,[t[13]||(t[13]=e("div",null,[e("h1",{class:"text-3xl font-display font-bold text-white mb-2"},"Team Members"),e("p",{class:"text-slate-400"},"Manage your squad permissions.")],-1)),e("div",te,[e("div",le,[(n(),a(M,null,U(["all","online","offline"],l=>e("button",{key:l,onClick:g=>m.value=l,class:C(["px-3 py-1.5 text-xs font-medium rounded-md capitalize transition-all",o(m)===l?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-white"])},u(l),11,oe)),64))]),o(V)?(n(),a("button",{key:0,onClick:E,class:"px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg text-sm font-medium shadow-lg shadow-indigo-500/20 transition-all"}," + Add Member ")):h("",!0)])]),e("div",se,[(n(),a(M,null,U(["all","online","offline"],l=>e("button",{key:l,onClick:g=>m.value=l,class:C(["flex-1 px-3 py-1.5 text-xs font-medium rounded-md capitalize transition-all",o(m)===l?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-white"])},u(l),11,ie)),64))]),e("div",ne,[(n(!0),a(M,null,U(o(D),l=>(n(),a("div",{key:l.id,class:"group p-6 rounded-2xl bg-slate-900/40 border border-white/5 hover:border-indigo-500/30 transition-all hover:bg-slate-800/50 relative"},[e("div",ae,[o($)?(n(),a("button",{key:0,onClick:g=>S(l),class:"p-2 text-slate-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:"Edit Member"},[T(o(K),{class:"w-4 h-4"})],8,re)):h("",!0),o(j)?(n(),a("button",{key:1,onClick:g=>A(l),class:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-500/10 rounded-lg transition-colors",title:"Remove Member"},[T(o(W),{class:"w-4 h-4"})],8,de)):h("",!0)]),e("div",ue,[e("div",ce,[e("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${l.name}`,class:"w-12 h-12 rounded-full bg-slate-800",alt:"Avatar"},null,8,me),e("div",{class:C(["absolute -bottom-1 -right-1 w-3 h-3 border-2 border-slate-900 rounded-full",l.online?"bg-emerald-500":"bg-slate-500"])},null,2)])]),e("div",null,[e("h3",pe,u(l.name),1),e("p",be,u(l.role),1),e("p",fe,u(l.email),1)]),e("div",xe,[(n(!0),a(M,null,U(l.tags,g=>(n(),a("span",{key:g,class:"text-[10px] uppercase tracking-wider px-2 py-1 rounded bg-white/5 text-slate-400 border border-white/5"},u(g),1))),128))])]))),128))]),o(D).length===0?(n(),a("div",ve,[t[14]||(t[14]=e("p",{class:"text-slate-500"},"No team members found.",-1)),e("button",{onClick:t[0]||(t[0]=l=>{o(d).searchQuery="",m.value="all"}),class:"mt-2 text-indigo-400 hover:text-indigo-300 text-sm"},"Clear Filters")])):h("",!0),(n(),I(X,{to:"body"},[o(c)?(n(),a("div",ge,[e("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t[1]||(t[1]=l=>c.value=!1)}),e("div",he,[t[25]||(t[25]=e("div",{class:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/10 rounded-full blur-2xl -mr-16 -mt-16 pointer-events-none"},null,-1)),e("div",we,[e("div",ye,[e("h3",_e,u(o(y)?"Edit Team Member":"Add Team Member"),1),e("button",{onClick:t[2]||(t[2]=l=>c.value=!1),class:"text-slate-400 hover:text-white"},[T(o(Y),{class:"w-5 h-5"})])]),e("form",{class:"space-y-4",onSubmit:Q(R,["prevent"])},[e("div",ke,[t[15]||(t[15]=e("label",{class:"text-sm font-medium text-slate-300"},"Full Name",-1)),b(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>o(s).name=l),required:"",type:"text",class:"w-full bg-slate-950 border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm focus:outline-none focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/50 transition-all"},null,512),[[w,o(s).name]])]),e("div",Te,[t[16]||(t[16]=e("label",{class:"text-sm font-medium text-slate-300"},"Email Address",-1)),b(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>o(s).email=l),required:"",type:"email",class:"w-full bg-slate-950 border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm focus:outline-none focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/50 transition-all"},null,512),[[w,o(s).email]])]),e("div",Ce,[t[18]||(t[18]=e("label",{class:"text-sm font-medium text-slate-300"},"Role",-1)),b(e("select",{"onUpdate:modelValue":t[5]||(t[5]=l=>o(s).role=l),class:"w-full bg-slate-950 border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm focus:outline-none focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/50 transition-all"},[...t[17]||(t[17]=[e("option",null,"Frontend Developer",-1),e("option",null,"Backend Developer",-1),e("option",null,"Product Designer",-1),e("option",null,"DevOps Engineer",-1)])],512),[[O,o(s).role]])]),e("div",Me,[e("div",Ue,[t[19]||(t[19]=e("label",{class:"text-sm font-medium text-slate-300"},"Public Profile",-1)),e("button",{type:"button",onClick:t[6]||(t[6]=l=>o(s).isPublic=!o(s).isPublic),class:C(["w-11 h-6 rounded-full transition-colors relative",o(s).isPublic?"bg-indigo-600":"bg-slate-700"])},[e("div",{class:C(["w-4 h-4 bg-white rounded-full absolute top-1 transition-transform",o(s).isPublic?"left-6":"left-1"])},null,2)],2)]),o(s).isPublic?(n(),a("div",Pe,[e("div",De,[t[20]||(t[20]=e("label",{class:"text-sm font-medium text-slate-300"},[J("Job Title "),e("span",{class:"text-slate-500 font-normal"},"(Optional)")],-1)),b(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>o(s).jobTitle=l),type:"text",placeholder:"e.g. Senior Frontend Engineer",class:"w-full bg-slate-950 border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm focus:outline-none focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/50 transition-all"},null,512),[[w,o(s).jobTitle]])]),e("div",Ve,[t[21]||(t[21]=e("label",{class:"text-sm font-medium text-slate-300"},"Bio",-1)),b(e("textarea",{"onUpdate:modelValue":t[8]||(t[8]=l=>o(s).bio=l),rows:"3",placeholder:"Short description for the public page...",class:"w-full bg-slate-950 border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm focus:outline-none focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/50 transition-all resize-none"},null,512),[[w,o(s).bio]])]),e("div",$e,[t[22]||(t[22]=e("label",{class:"text-sm font-medium text-slate-300"},"LinkedIn URL",-1)),b(e("input",{"onUpdate:modelValue":t[9]||(t[9]=l=>o(s).linkedinUrl=l),type:"url",placeholder:"https://linkedin.com/in/...",class:"w-full bg-slate-950 border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm focus:outline-none focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/50 transition-all"},null,512),[[w,o(s).linkedinUrl]])]),e("div",je,[t[23]||(t[23]=e("label",{class:"text-sm font-medium text-slate-300"},"Profile Image URL",-1)),b(e("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>o(s).imageUrl=l),type:"url",placeholder:"https://...",class:"w-full bg-slate-950 border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm focus:outline-none focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/50 transition-all"},null,512),[[w,o(s).imageUrl]]),t[24]||(t[24]=e("p",{class:"text-xs text-slate-500"},"Leave empty to use default avatar",-1))])])):h("",!0)]),e("div",Ee,[e("button",{type:"button",onClick:t[11]||(t[11]=l=>c.value=!1),class:"flex-1 px-4 py-2.5 rounded-xl bg-white/5 hover:bg-white/10 text-white text-sm font-medium border border-white/5 transition-colors"}," Cancel "),e("button",Se,u(o(y)?"Save Changes":"Send Invite"),1)])],32)])])])):h("",!0)])),T(p,{modelValue:o(_),"onUpdate:modelValue":t[12]||(t[12]=l=>G(_)?_.value=l:null),title:"Remove Team Member",description:`Are you sure you want to remove ${o(k)?.name} from the team? This action cannot be undone.`,"confirm-text":"Remove Member",onConfirm:F},null,8,["modelValue","description"]),T(L,{ref_key:"toastRef",ref:P,title:o(f),message:o(x),type:o(v)},null,8,["title","message","type"])])}}};export{Xe as default};
