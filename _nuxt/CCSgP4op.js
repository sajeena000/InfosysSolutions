import{_ as E}from"./DlAUqK2U.js";import{c as a,o,a as e,I as T,B as H,g as W,r as $,b as f,w as N,F as C,m as V,k as g,l as j,n as s,A as R,t as _,x as M,y as D,q as I,p as G,H as B,J as P,j as U,v as ee,K as te,L as se}from"./BAvuBg4s.js";import{_ as oe}from"./BhSwBwsD.js";import{_ as ae}from"./Bch17VXu.js";import{u as ne}from"./BTVZUTuI.js";import{c as k}from"./CSLnjY7V.js";import{U as re}from"./BZIhqMqc.js";import{F as J}from"./DOlDDEdy.js";import{C as K}from"./U9zfMO1I.js";import{M as le}from"./BS3QBk9h.js";import{B as X}from"./DDG1A78S.js";import{L as ie}from"./BA521tZZ.js";import{C as ce}from"./CJ2mP9ci.js";import{M as de}from"./d8HkZpad.js";import{X as ue}from"./BwZpcNeh.js";const he=k("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);const pe=k("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]);const me=k("chart-no-axes-column-increasing",[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]]);const fe=k("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);const xe=k("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const be=k("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);const ve=k("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);const ge=k("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);const Q=k("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);const Y=k("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const we=k("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ye={},_e={class:"flex items-center gap-2 text-white"};function ke(u,n){return o(),a("div",_e,[...n[0]||(n[0]=[e("div",{class:"w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg shadow-indigo-500/20"},[e("span",{class:"font-display font-bold text-lg"},"TB")],-1),e("span",{class:"font-display font-bold text-xl tracking-tight"},"The Dashboard",-1)])])}const $e=Object.assign(E(ye,[["render",ke]]),{__name:"UiLogo"}),Me={class:"h-full flex flex-col bg-slate-900/50 backdrop-blur-xl border-r border-white/5"},Ce={class:"h-16 flex items-center px-6 border-b border-white/5"},Se={class:"flex-1 px-4 py-6 space-y-1 overflow-y-auto"},Ve={key:0,class:"absolute left-0 top-0 bottom-0 w-1 bg-indigo-500 rounded-r-full"},Ae={class:"font-medium text-sm"},Le={key:0,class:"absolute left-0 top-0 bottom-0 w-1 bg-indigo-500 rounded-r-full"},je={class:"font-medium text-sm"},ze={key:1,class:"ml-auto px-2 py-0.5 bg-rose-500 text-white text-[10px] font-bold rounded-full"},Fe={href:"/",target:"_blank",class:"flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 text-slate-400 hover:text-white hover:bg-white/5 mt-6"},Ne={class:"p-4 border-t border-white/5"},Re={class:"flex items-center gap-3 px-4 py-3 rounded-xl bg-white/5 border border-white/5"},Te=["src"],Be={class:"flex-1 min-w-0"},Oe={class:"text-sm font-medium text-white truncate"},Pe={class:"flex items-center gap-1.5"},Ue={__name:"Sidebar",setup(u){const n=T(),h=H(),t=W(),{currentRole:r}=ne(),i=$(!1),x=()=>{i.value=!0},w=()=>{i.value=!1,t.logout(),h.push("/admin/login")},c=[{name:"Dashboard",path:"/admin",icon:ve},{name:"Analytics",path:"/admin/analytics",icon:fe},{name:"Team",path:"/admin/team",icon:re},{name:"Settings",path:"/admin/settings",icon:Y}],y=[{name:"Blog Posts",path:"/admin/blogs",icon:J},{name:"Events",path:"/admin/events",icon:K},{name:"Inquiries",path:"/admin/contacts",icon:le},{name:"Projects",path:"/admin/projects",icon:X}];return(d,p)=>{const S=$e,A=oe,z=ae;return o(),a("aside",Me,[e("div",Ce,[f(A,{to:"/admin"},{default:N(()=>[f(S)]),_:1})]),e("nav",Se,[p[4]||(p[4]=e("p",{class:"px-4 text-[10px] uppercase tracking-wider text-slate-500 mb-2"},"Main",-1)),(o(),a(C,null,V(c,m=>f(A,{key:m.path,to:m.path,class:M(["flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative overflow-hidden",s(n).path===m.path?"bg-indigo-500/10 text-indigo-400":"text-slate-400 hover:text-white hover:bg-white/5"]),onClick:p[0]||(p[0]=F=>d.$emit("close-mobile"))},{default:N(()=>[s(n).path===m.path?(o(),a("div",Ve)):g("",!0),(o(),j(R(m.icon),{class:"w-5 h-5 transition-transform group-hover:scale-110"})),e("span",Ae,_(m.name),1)]),_:2},1032,["to","class"])),64)),p[5]||(p[5]=e("p",{class:"px-4 text-[10px] uppercase tracking-wider text-slate-500 mt-6 mb-2"},"Content",-1)),(o(),a(C,null,V(y,m=>f(A,{key:m.path,to:m.path,class:M(["flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative overflow-hidden",s(n).path===m.path?"bg-indigo-500/10 text-indigo-400":"text-slate-400 hover:text-white hover:bg-white/5"]),onClick:p[1]||(p[1]=F=>d.$emit("close-mobile"))},{default:N(()=>[s(n).path===m.path?(o(),a("div",Le)):g("",!0),(o(),j(R(m.icon),{class:"w-5 h-5 transition-transform group-hover:scale-110"})),e("span",je,_(m.name),1),m.badge?(o(),a("span",ze,_(m.badge),1)):g("",!0)]),_:2},1032,["to","class"])),64)),e("a",Fe,[f(s(xe),{class:"w-5 h-5"}),p[3]||(p[3]=e("span",{class:"font-medium text-sm"},"View Website",-1))])]),e("div",Ne,[e("div",Re,[e("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${s(t).userProfile.name}`,alt:"User",class:"w-8 h-8 rounded-full bg-slate-700"},null,8,Te),e("div",Be,[e("p",Oe,_(s(t).userProfile.name),1),e("div",Pe,[e("span",{class:M(["text-[10px] uppercase tracking-wider px-1.5 py-0.5 rounded font-semibold",{"bg-indigo-500/20 text-indigo-400":s(r)==="admin","bg-amber-500/20 text-amber-400":s(r)==="manager","bg-slate-500/20 text-slate-400":s(r)==="member"}])},_(s(r)),3)])]),e("button",{onClick:x,class:"p-1 text-slate-500 hover:text-rose-400 transition-colors",title:"Sign Out"},[f(s(ie),{class:"w-4 h-4"})])])]),f(z,{modelValue:s(i),"onUpdate:modelValue":p[2]||(p[2]=m=>D(i)?i.value=m:null),title:"Log Out",description:"Are you sure you want to log out of your account?","confirm-text":"Log Out",type:"danger",onConfirm:w},null,8,["modelValue"])])}}},Qe={class:"relative"},qe={key:0,class:"ml-2 text-xs font-medium"},Ee={key:0,class:"absolute top-full left-0 mt-2 w-48 bg-slate-900 border border-white/10 rounded-xl shadow-2xl shadow-black/50 overflow-hidden z-50 py-1"},He=["onClick"],We={__name:"SearchFilter",props:{modelValue:{type:String,default:"all"}},emits:["update:modelValue"],setup(u,{emit:n}){const h=n,t=$(!1),r=[{label:"All",value:"all"},{label:"Team",value:"team"},{label:"Projects",value:"projects"},{label:"Clients",value:"clients"},{label:"Blogs",value:"blogs"},{label:"Events",value:"events"},{label:"Contacts",value:"contacts"}],i=c=>{h("update:modelValue",c),t.value=!1},x=()=>{t.value=!1},w={mounted(c,y){c.clickOutsideEvent=d=>{c===d.target||c.contains(d.target)||y.value(d)},document.body.addEventListener("click",c.clickOutsideEvent)},unmounted(c){document.body.removeEventListener("click",c.clickOutsideEvent)}};return(c,y)=>(o(),a("div",Qe,[e("button",{onClick:y[0]||(y[0]=G(d=>t.value=!s(t),["stop"])),class:M(["flex items-center justify-center px-2 text-slate-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors focus:outline-none h-8",{"text-indigo-400":u.modelValue!=="all"}])},[f(s(be),{class:"w-4 h-4"}),u.modelValue!=="all"?(o(),a("span",qe,_(u.modelValue),1)):g("",!0)],2),s(t)?I((o(),a("div",Ee,[y[1]||(y[1]=e("div",{class:"px-3 py-2 text-xs font-medium text-slate-500 uppercase tracking-wider border-b border-white/5 mb-1"}," Search filter ",-1)),(o(),a(C,null,V(r,d=>e("button",{key:d.value,onClick:p=>i(d.value),class:M(["w-full text-left px-4 py-2 text-sm hover:bg-white/5 transition-colors flex items-center justify-between",u.modelValue===d.value?"text-indigo-400":"text-slate-300"])},[e("span",null,_(d.label),1),u.modelValue===d.value?(o(),j(s(ce),{key:0,class:"w-3 h-3"})):g("",!0)],10,He)),64))])),[[w,x]]):g("",!0)]))}};typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const q=()=>{};function De(u,n){function h(...t){return new Promise((r,i)=>{Promise.resolve(u(()=>n.apply(this,t),{fn:n,thisArg:this,args:t})).then(r).catch(i)})}return h}const Ie=u=>u();function Ge(u,n={}){let h,t,r=q;const i=c=>{clearTimeout(c),r(),r=q};let x;return c=>{const y=P(u),d=P(n.maxWait);return h&&i(h),y<=0||d!==void 0&&d<=0?(t&&(i(t),t=void 0),Promise.resolve(c())):new Promise((p,S)=>{r=n.rejectOnCancel?S:p,x=c,d&&!t&&(t=setTimeout(()=>{h&&i(h),t=void 0,p(x())},d)),h=setTimeout(()=>{t&&i(t),t=void 0,p(c())},y)})}}function Je(u,n,h={}){const{eventFilter:t=Ie,...r}=h;return B(u,De(t,n),r)}function Ke(u,n,h={}){const{debounce:t=0,maxWait:r=void 0,...i}=h;return Je(u,n,{...i,eventFilter:Ge(t,{maxWait:r})})}const Xe={class:"h-16 flex items-center justify-between px-6 bg-slate-900/50 backdrop-blur-md border-b border-white/5 sticky top-0 z-20"},Ye={class:"hidden md:block relative"},Ze={class:"flex items-center gap-2 px-3 py-2 rounded-full bg-slate-950/50 border border-white/10 w-96 focus-within:border-indigo-500/50 focus-within:ring-1 focus-within:ring-indigo-500/50 transition-all"},et={key:0,class:"absolute top-full left-0 right-0 mt-2 bg-slate-900 border border-white/10 rounded-xl shadow-2xl shadow-black/50 overflow-hidden z-50 max-h-96 overflow-y-auto custom-scrollbar"},tt={key:0,class:"p-4 text-center text-slate-500 text-sm"},st={class:"px-3 py-2 text-xs font-medium text-slate-500 uppercase tracking-wider border-b border-white/5 bg-slate-950/30 sticky top-0 backdrop-blur-sm"},ot=["onMousedown"],at={class:"w-8 h-8 rounded-lg bg-slate-800 flex items-center justify-center text-indigo-400"},nt={class:"text-sm text-white"},rt={class:"text-xs text-slate-500"},lt={key:0,class:"p-4 text-center text-slate-500 text-sm"},it={class:"flex items-center gap-4 relative"},ct={key:0,class:"absolute top-2 right-2 w-2 h-2 bg-rose-500 rounded-full animate-pulse"},dt={key:0,class:"absolute right-0 top-12 w-80 bg-slate-900 border border-white/10 rounded-2xl shadow-2xl shadow-black/50 overflow-hidden backdrop-blur-xl z-50 transform origin-top-right transition-all"},ut={class:"p-4 border-b border-white/5 flex justify-between items-center"},ht={key:0,class:"text-xs bg-indigo-500/20 text-indigo-300 px-2 py-0.5 rounded-full"},pt={class:"max-h-64 overflow-y-auto custom-scrollbar"},mt={key:0,class:"p-6 text-center text-slate-500 text-sm"},ft={class:"mt-1"},xt={class:"text-sm text-slate-200"},bt={class:"text-xs text-slate-500 mt-1"},vt={__name:"Header",setup(u){const n=T(),h=H(),t=W(),r=$(!1),i=$(!1),x=$([]),w=$(!1),c=$("all"),y=te();B(()=>n.path,()=>{i.value=!1});const d=async()=>{if(console.log("Performing search for:",t.searchQuery),!t.searchQuery||t.searchQuery.length<2){x.value=[];return}w.value=!0;try{const b=`${y.app.baseURL}api/search`.replace("//","/");console.log("Fetching from:",b);const l=await $fetch(b,{params:{q:t.searchQuery,type:c.value}});console.log("Search results:",l),x.value=l}catch(b){console.error("Search failed",b),x.value=[]}finally{w.value=!1}};Ke([()=>t.searchQuery,c],()=>{d()},{debounce:300,maxWait:1e3});const p=U(()=>x.value.length?x.value.reduce((b,l)=>(b[l.type]||(b[l.type]=[]),b[l.type].push(l),b),{}):{}),S=U(()=>x.value.length>0),A=b=>({User:we,Briefcase:X,FileText:J,Calendar:K,MessageSquare:ge,Building:pe,BarChart:me,Settings:Y})[b]||Q,z=()=>{setTimeout(()=>{i.value=!1},200)},m=b=>{h.push(b),i.value=!1},F=async()=>{await t.markAllNotificationsAsRead()};return(b,l)=>{const Z=We;return o(),a("header",Xe,[e("button",{onClick:l[0]||(l[0]=v=>b.$emit("toggle-sidebar")),class:"lg:hidden p-2 -ml-2 text-slate-400 hover:text-white"},[f(s(de),{class:"w-6 h-6"})]),e("div",Ye,[e("div",Ze,[f(s(Q),{class:"w-4 h-4 text-slate-500 shrink-0"}),l[6]||(l[6]=e("div",{class:"h-4 w-[1px] bg-white/10 mx-1 shrink-0"},null,-1)),f(Z,{modelValue:s(c),"onUpdate:modelValue":l[1]||(l[1]=v=>D(c)?c.value=v:null),class:"shrink-0"},null,8,["modelValue"]),I(e("input",{"onUpdate:modelValue":l[2]||(l[2]=v=>s(t).searchQuery=v),type:"text",placeholder:"Search...",class:"bg-transparent border-none outline-none text-sm text-white placeholder-slate-600 w-full ml-2",onFocus:l[3]||(l[3]=v=>i.value=!0),onBlur:z},null,544),[[ee,s(t).searchQuery]]),s(t).searchQuery?(o(),a("button",{key:0,onClick:l[4]||(l[4]=v=>s(t).searchQuery=""),class:"text-slate-500 hover:text-white transition-colors"},[f(s(ue),{class:"w-4 h-4"})])):g("",!0)]),s(i)&&s(t).searchQuery&&s(w)||s(i)&&s(t).searchQuery&&s(S)?(o(),a("div",et,[s(w)?(o(),a("div",tt," Searching... ")):(o(),a(C,{key:1},[(o(!0),a(C,null,V(s(p),(v,O)=>(o(),a("div",{key:O},[e("div",st,_(O),1),(o(!0),a(C,null,V(v,L=>(o(),a("div",{key:L.id,onMousedown:G(Mt=>m(L.url),["prevent"]),class:"px-4 py-3 hover:bg-white/5 cursor-pointer transition-colors flex items-center gap-3"},[e("div",at,[(o(),j(R(A(L.icon)),{class:"w-4 h-4"}))]),e("div",null,[e("p",nt,_(L.title),1),e("p",rt,_(L.subtitle),1)])],40,ot))),128))]))),128)),!s(S)&&!s(w)?(o(),a("div",lt," No results found ")):g("",!0)],64))])):g("",!0)]),e("div",it,[e("button",{onClick:l[5]||(l[5]=v=>r.value=!s(r)),class:"p-2 text-slate-400 hover:text-white transition-colors relative focus:outline-none"},[f(s(he),{class:"w-5 h-5"}),s(t).unreadNotifications>0?(o(),a("span",ct)):g("",!0)]),s(r)?(o(),a("div",dt,[e("div",ut,[l[7]||(l[7]=e("h3",{class:"font-display font-semibold text-white"},"Notifications",-1)),s(t).unreadNotifications>0?(o(),a("span",ht,_(s(t).unreadNotifications)+" New ",1)):g("",!0)]),e("div",pt,[s(t).notifications.length===0?(o(),a("div",mt," No notifications yet ")):g("",!0),(o(!0),a(C,null,V(s(t).notifications,v=>(o(),a("div",{key:v.id,class:M(["p-4 border-b border-white/5 hover:bg-white/5 cursor-pointer transition-colors flex gap-3",{"opacity-50":v.isRead}])},[e("div",ft,[e("div",{class:M(["w-2 h-2 rounded-full",v.color||"bg-indigo-500"])},null,2)]),e("div",null,[e("p",xt,_(v.text),1),e("p",bt,_(v.time),1)])],2))),128))]),s(t).unreadNotifications>0?(o(),a("div",{key:0,onClick:F,class:"p-3 text-center border-t border-white/5 bg-white/5 hover:bg-white/10 cursor-pointer transition-colors"},[...l[8]||(l[8]=[e("span",{class:"text-xs font-medium text-indigo-400"},"Mark all as read",-1)])])):g("",!0)])):g("",!0)])])}}},gt=E(vt,[["__scopeId","data-v-8d8168f8"]]),wt={class:"flex h-screen overflow-hidden bg-slate-950 text-white"},yt={class:"hidden lg:block w-64 flex-shrink-0 z-30"},_t={class:"flex-1 flex flex-col min-w-0 overflow-hidden"},kt={class:"flex-1 overflow-y-auto p-4 md:p-8 scroll-smooth"},$t={class:"max-w-7xl mx-auto"},Qt={__name:"default",setup(u){const n=$(!1),h=T();return B(()=>h.path,()=>{n.value=!1}),(t,r)=>{const i=Ue,x=gt;return o(),a("div",wt,[e("div",yt,[f(i)]),s(n)?(o(),a("div",{key:0,onClick:r[0]||(r[0]=w=>n.value=!1),class:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden"})):g("",!0),e("div",{class:M(["fixed inset-y-0 left-0 w-64 bg-slate-900 z-50 transform transition-transform duration-300 lg:hidden border-r border-white/10",s(n)?"translate-x-0":"-translate-x-full"])},[f(i,{onCloseMobile:r[1]||(r[1]=w=>n.value=!1)})],2),e("div",_t,[f(x,{onToggleSidebar:r[2]||(r[2]=w=>n.value=!s(n))}),e("main",kt,[e("div",$t,[se(t.$slots,"default")])])])])}}};export{Qt as default};
